<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: architecture Pages: 1 -->
<svg width="602pt" height="87pt"
 viewBox="0.00 0.00 602.16 87.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 83)">
<title>architecture</title>
<polygon fill="#f1f5f9" stroke="transparent" points="-4,4 -4,-83 598.16,-83 598.16,4 -4,4"/>
<!-- client -->
<g id="node1" class="node">
<title>client</title>
<path fill="#7c3aed" stroke="black" stroke-width="1.2" d="M89,-66.5C89,-66.5 12,-66.5 12,-66.5 6,-66.5 0,-60.5 0,-54.5 0,-54.5 0,-24.5 0,-24.5 0,-18.5 6,-12.5 12,-12.5 12,-12.5 89,-12.5 89,-12.5 95,-12.5 101,-18.5 101,-24.5 101,-24.5 101,-54.5 101,-54.5 101,-60.5 95,-66.5 89,-66.5"/>
<text text-anchor="middle" x="50.5" y="-36.7" font-family="Arial" font-size="11.00" fill="white">Mobile App</text>
</g>
<!-- api_gw -->
<g id="node2" class="node">
<title>api_gw</title>
<polygon fill="#059669" stroke="black" stroke-width="1.2" points="269.24,-39.5 245.16,-75.5 197,-75.5 172.92,-39.5 197,-3.5 245.16,-3.5 269.24,-39.5"/>
<text text-anchor="middle" x="221.08" y="-36.7" font-family="Arial" font-size="11.00" fill="white">API Gateway</text>
</g>
<!-- client&#45;&gt;api_gw -->
<g id="edge_0" class="edge">
<title>client&#45;&gt;api_gw</title>
<path fill="none" stroke="#3b82f6" stroke-width="2.5" d="M101.17,-39.5C120.44,-39.5 142.63,-39.5 162.59,-39.5"/>
<polygon fill="#3b82f6" stroke="#3b82f6" stroke-width="2.5" points="162.79,-43 172.79,-39.5 162.79,-36 162.79,-43"/>
<text text-anchor="middle" x="137" y="-43.3" font-family="Arial" font-size="14.00" fill="#1e293b">HTTP</text>
</g>
<!-- auth -->
<g id="node3" class="node">
<title>auth</title>
<path fill="#dc2626" stroke="black" stroke-width="1.2" d="M424.16,-68.5C424.16,-68.5 354.16,-68.5 354.16,-68.5 348.16,-68.5 342.16,-62.5 342.16,-56.5 342.16,-56.5 342.16,-22.5 342.16,-22.5 342.16,-16.5 348.16,-10.5 354.16,-10.5 354.16,-10.5 424.16,-10.5 424.16,-10.5 430.16,-10.5 436.16,-16.5 436.16,-22.5 436.16,-22.5 436.16,-56.5 436.16,-56.5 436.16,-62.5 430.16,-68.5 424.16,-68.5"/>
<text text-anchor="middle" x="389.16" y="-36.7" font-family="Arial" font-size="11.00" fill="white">Auth Svc</text>
</g>
<!-- api_gw&#45;&gt;auth -->
<g id="edge_1" class="edge">
<title>api_gw&#45;&gt;auth</title>
<path fill="none" stroke="#10b981" d="M269.23,-39.5C288.75,-39.5 311.56,-39.5 331.94,-39.5"/>
<polygon fill="none" stroke="#10b981" points="342.04,-35.5 342.04,-43.5 334.04,-43.5 334.04,-35.5 342.04,-35.5"/>
<polyline fill="none" stroke="#10b981" points="334.04,-39.5 332.04,-39.5 "/>
<text text-anchor="middle" x="305.66" y="-43.3" font-family="Arial" font-size="14.00" fill="#1e293b">gRPC</text>
</g>
<!-- db -->
<g id="node4" class="node">
<title>db</title>
<path fill="#b91c1c" stroke="black" stroke-width="1.2" d="M594.16,-71.82C594.16,-75.78 573.09,-79 547.16,-79 521.23,-79 500.16,-75.78 500.16,-71.82 500.16,-71.82 500.16,-7.18 500.16,-7.18 500.16,-3.22 521.23,0 547.16,0 573.09,0 594.16,-3.22 594.16,-7.18 594.16,-7.18 594.16,-71.82 594.16,-71.82"/>
<path fill="none" stroke="black" stroke-width="1.2" d="M594.16,-71.82C594.16,-67.86 573.09,-64.64 547.16,-64.64 521.23,-64.64 500.16,-67.86 500.16,-71.82"/>
<text text-anchor="middle" x="547.16" y="-36.7" font-family="Arial" font-size="11.00" fill="white">Orders DB</text>
</g>
<!-- auth&#45;&gt;db -->
<g id="edge_2" class="edge">
<title>auth&#45;&gt;db</title>
<path fill="none" stroke="#f59e0b" stroke-dasharray="1,5" d="M436.54,-39.5C453.29,-39.5 472.37,-39.5 489.87,-39.5"/>
<polygon fill="#f59e0b" stroke="#f59e0b" points="489.96,-39.5 499.96,-44 494.96,-39.5 499.96,-39.5 499.96,-39.5 499.96,-39.5 494.96,-39.5 499.96,-35 489.96,-39.5 489.96,-39.5"/>
<text text-anchor="middle" x="468.16" y="-43.3" font-family="Arial" font-size="14.00" fill="#1e293b">SQL</text>
</g>
</g>

    <style>
        @keyframes flowRight {
            0% { stroke-dashoffset: 20; }
            100% { stroke-dashoffset: 0; }
        }
        
        @keyframes flowLeft {
            0% { stroke-dashoffset: -20; }
            100% { stroke-dashoffset: 0; }
        }
        
        /* Default flow direction (left to right, arrow ->)
           Positive stroke-dashoffset moves pattern LEFT, so negative offset = RIGHT flow */
        svg g[id*="edge"] path {
            animation: flowRight 1.5s linear infinite;
            stroke-dasharray: 8,4;
            stroke-width: 2.5;
        }
        
        /* Pulse effect on components */
        svg g[id*="node"] ellipse,
        svg g[id*="node"] polygon,
        svg g[id*="node"] path {
            transition: filter 0.3s ease;
        }
        
        svg g[id*="node"]:hover ellipse,
        svg g[id*="node"]:hover polygon,
        svg g[id*="node"]:hover path {
            filter: drop-shadow(0 0 10px rgba(60,60,60,0.5));
        }
        
        /* Relationship labels stay readable */
        svg g[id*="edge"] text {
            background: white;
            font-weight: bold;
        }
    </style>
    </svg>
