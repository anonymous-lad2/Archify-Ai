<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: architecture Pages: 1 -->
<svg width="572pt" height="272pt"
 viewBox="0.00 0.00 572.37 272.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 268)">
<title>architecture</title>
<polygon fill="#f1f5f9" stroke="transparent" points="-4,4 -4,-268 568.37,-268 568.37,4 -4,4"/>
<!-- Client -->
<g id="node1" class="node">
<title>Client</title>
<path fill="#7c3aed" stroke="black" stroke-width="1.2" d="M89,-219C89,-219 12,-219 12,-219 6,-219 0,-213 0,-207 0,-207 0,-177 0,-177 0,-171 6,-165 12,-165 12,-165 89,-165 89,-165 95,-165 101,-171 101,-177 101,-177 101,-207 101,-207 101,-213 95,-219 89,-219"/>
<text text-anchor="middle" x="50.5" y="-189.2" font-family="Arial" font-size="11.00" fill="white">Client</text>
</g>
<!-- Load Balancer -->
<g id="node2" class="node">
<title>Load Balancer</title>
<polygon fill="#059669" stroke="black" stroke-width="1.2" points="241.56,-192 215.62,-228 163.75,-228 137.81,-192 163.75,-156 215.62,-156 241.56,-192"/>
<text text-anchor="middle" x="189.69" y="-189.2" font-family="Arial" font-size="11.00" fill="white">Load Balancer</text>
</g>
<!-- Client&#45;&gt;Load Balancer -->
<g id="edge_0" class="edge">
<title>Client&#45;&gt;Load Balancer</title>
<path fill="none" stroke="#4a90e2" d="M101.03,-192C109.73,-192 118.87,-192 127.83,-192"/>
<polygon fill="#4a90e2" stroke="#4a90e2" points="127.85,-195.5 137.85,-192 127.85,-188.5 127.85,-195.5"/>
</g>
<!-- Chat Server -->
<g id="node3" class="node">
<title>Chat Server</title>
<path fill="#dc2626" stroke="black" stroke-width="1.2" d="M387.37,-221C387.37,-221 317.37,-221 317.37,-221 311.37,-221 305.37,-215 305.37,-209 305.37,-209 305.37,-175 305.37,-175 305.37,-169 311.37,-163 317.37,-163 317.37,-163 387.37,-163 387.37,-163 393.37,-163 399.37,-169 399.37,-175 399.37,-175 399.37,-209 399.37,-209 399.37,-215 393.37,-221 387.37,-221"/>
<text text-anchor="middle" x="352.37" y="-189.2" font-family="Arial" font-size="11.00" fill="white">Chat Server</text>
</g>
<!-- Load Balancer&#45;&gt;Chat Server -->
<g id="edge_1" class="edge">
<title>Load Balancer&#45;&gt;Chat Server</title>
<path fill="none" stroke="#50c878" d="M241.53,-192C258.59,-192 277.72,-192 295.17,-192"/>
<polygon fill="#50c878" stroke="#50c878" points="295.22,-195.5 305.22,-192 295.22,-188.5 295.22,-195.5"/>
<text text-anchor="middle" x="273.37" y="-195.8" font-family="Arial" font-size="14.00" fill="#1e293b">sync</text>
</g>
<!-- Message Queue -->
<g id="node4" class="node">
<title>Message Queue</title>
<polygon fill="lightgrey" stroke="black" points="561.37,-264 466.37,-264 466.37,-228 561.37,-228 561.37,-264"/>
<text text-anchor="middle" x="513.87" y="-243.2" font-family="Arial" font-size="11.00" fill="white">Message Queue</text>
</g>
<!-- Chat Server&#45;&gt;Message Queue -->
<g id="edge_3" class="edge">
<title>Chat Server&#45;&gt;Message Queue</title>
<path fill="none" stroke="#9c27b0" stroke-dasharray="1,5" d="M399.51,-201.43C421.38,-208.06 447.39,-216.89 468.98,-225.04"/>
<ellipse fill="none" stroke="#9c27b0" cx="472.98" cy="-226.57" rx="4" ry="4"/>
</g>
<!-- Cache -->
<g id="node5" class="node">
<title>Cache</title>
<polygon fill="lightgrey" stroke="black" points="540.87,-210 486.87,-210 486.87,-174 540.87,-174 540.87,-210"/>
<text text-anchor="middle" x="513.87" y="-189.2" font-family="Arial" font-size="11.00" fill="white">Cache</text>
</g>
<!-- Chat Server&#45;&gt;Cache -->
<g id="edge_5" class="edge">
<title>Chat Server&#45;&gt;Cache</title>
<path fill="none" stroke="#ff6b6b" d="M399.51,-192C423.97,-192 453.6,-192 476.43,-192"/>
<polygon fill="#ff6b6b" stroke="#ff6b6b" points="476.72,-195.5 486.72,-192 476.72,-188.5 476.72,-195.5"/>
<text text-anchor="middle" x="431.37" y="-195.8" font-family="Arial" font-size="14.00" fill="#1e293b">R/W</text>
</g>
<!-- Database -->
<g id="node6" class="node">
<title>Database</title>
<path fill="#b91c1c" stroke="black" stroke-width="1.2" d="M560.87,-148.32C560.87,-152.28 539.81,-155.5 513.87,-155.5 487.94,-155.5 466.87,-152.28 466.87,-148.32 466.87,-148.32 466.87,-83.68 466.87,-83.68 466.87,-79.72 487.94,-76.5 513.87,-76.5 539.81,-76.5 560.87,-79.72 560.87,-83.68 560.87,-83.68 560.87,-148.32 560.87,-148.32"/>
<path fill="none" stroke="black" stroke-width="1.2" d="M560.87,-148.32C560.87,-144.36 539.81,-141.14 513.87,-141.14 487.94,-141.14 466.87,-144.36 466.87,-148.32"/>
<text text-anchor="middle" x="513.87" y="-113.2" font-family="Arial" font-size="11.00" fill="white">Database</text>
</g>
<!-- Chat Server&#45;&gt;Database -->
<g id="edge_6" class="edge">
<title>Chat Server&#45;&gt;Database</title>
<path fill="none" stroke="#ff6b6b" d="M399.51,-170.02C417.69,-161.35 438.73,-151.33 457.71,-142.28"/>
<polygon fill="#ff6b6b" stroke="#ff6b6b" points="459.32,-145.39 466.84,-137.93 456.31,-139.07 459.32,-145.39"/>
<text text-anchor="middle" x="431.37" y="-163.8" font-family="Arial" font-size="14.00" fill="#1e293b">R/W</text>
</g>
<!-- Presence Service -->
<g id="node7" class="node">
<title>Presence Service</title>
<path fill="#dc2626" stroke="black" stroke-width="1.2" d="M552.37,-58C552.37,-58 475.37,-58 475.37,-58 469.37,-58 463.37,-52 463.37,-46 463.37,-46 463.37,-12 463.37,-12 463.37,-6 469.37,0 475.37,0 475.37,0 552.37,0 552.37,0 558.37,0 564.37,-6 564.37,-12 564.37,-12 564.37,-46 564.37,-46 564.37,-52 558.37,-58 552.37,-58"/>
<text text-anchor="middle" x="513.87" y="-26.2" font-family="Arial" font-size="11.00" fill="white">Presence Service</text>
</g>
<!-- Chat Server&#45;&gt;Presence Service -->
<g id="edge_2" class="edge">
<title>Chat Server&#45;&gt;Presence Service</title>
<path fill="none" stroke="#9c27b0" stroke-dasharray="1,5" d="M376.7,-162.86C398.09,-136.85 431.24,-98.31 463.37,-68 464.9,-66.55 466.49,-65.11 468.1,-63.66"/>
<ellipse fill="none" stroke="#9c27b0" cx="471.44" cy="-60.77" rx="4" ry="4"/>
</g>
<!-- Message Queue&#45;&gt;Chat Server -->
<g id="edge_4" class="edge">
<title>Message Queue&#45;&gt;Chat Server</title>
<path fill="none" stroke="#9c27b0" stroke-dasharray="1,5" d="M466.29,-236.43C447.72,-230.79 426.24,-223.59 407.03,-216.58"/>
<ellipse fill="none" stroke="#9c27b0" cx="403.26" cy="-215.19" rx="4" ry="4"/>
</g>
</g>

    <style>
        @keyframes flowRight {
            0% { stroke-dashoffset: 20; }
            100% { stroke-dashoffset: 0; }
        }
        
        @keyframes flowLeft {
            0% { stroke-dashoffset: -20; }
            100% { stroke-dashoffset: 0; }
        }
        
        /* Default flow direction (left to right, arrow ->)
           Positive stroke-dashoffset moves pattern LEFT, so negative offset = RIGHT flow */
        svg g[id*="edge"] path {
            animation: flowRight 1.5s linear infinite;
            stroke-dasharray: 8,4;
            stroke-width: 2.5;
        }
        
        /* Cluster styling */
        svg g[id*="cluster"] polygon {
            fill: #f9f9f9 !important;
            stroke: #d0d0d0 !important;
            stroke-width: 1.5 !important;
        }
        
        svg g[id*="cluster"] text {
            fill: #555 !important;
            font-weight: 600 !important;
        }
        
        /* Pulse effect on components */
        svg g[id*="node"] ellipse,
        svg g[id*="node"] polygon,
        svg g[id*="node"] path {
            transition: filter 0.3s ease;
        }
        
        svg g[id*="node"]:hover ellipse,
        svg g[id*="node"]:hover polygon,
        svg g[id*="node"]:hover path {
            filter: drop-shadow(0 0 10px rgba(60,60,60,0.5));
        }
        
        /* Relationship labels stay readable */
        svg g[id*="edge"] text {
            background: white;
            font-weight: bold;
            fill: #333 !important;
        }
    </style>
    </svg>
