<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: architecture Pages: 1 -->
<svg width="1148pt" height="253pt"
 viewBox="0.00 0.00 1148.16 253.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 249)">
<title>architecture</title>
<polygon fill="#f1f5f9" stroke="transparent" points="-4,4 -4,-249 1144.16,-249 1144.16,4 -4,4"/>
<!-- Client Apps (Rider &amp; Driver) -->
<g id="node1" class="node">
<title>Client Apps (Rider &amp; Driver)</title>
<path fill="#7c3aed" stroke="black" stroke-width="1.2" d="M139,-54C139,-54 12,-54 12,-54 6,-54 0,-48 0,-42 0,-42 0,-12 0,-12 0,-6 6,0 12,0 12,0 139,0 139,0 145,0 151,-6 151,-12 151,-12 151,-42 151,-42 151,-48 145,-54 139,-54"/>
<text text-anchor="middle" x="75.5" y="-24.2" font-family="Arial" font-size="11.00" fill="white">Client Apps (Rider &amp; Driver)</text>
</g>
<!-- API Gateway -->
<g id="node2" class="node">
<title>API Gateway</title>
<polygon fill="#059669" stroke="black" stroke-width="1.2" points="284.24,-152 260.16,-188 212,-188 187.92,-152 212,-116 260.16,-116 284.24,-152"/>
<text text-anchor="middle" x="236.08" y="-149.2" font-family="Arial" font-size="11.00" fill="white">API Gateway</text>
</g>
<!-- Client Apps (Rider &amp; Driver)&#45;&gt;API Gateway -->
<g id="edge_0" class="edge">
<title>Client Apps (Rider &amp; Driver)&#45;&gt;API Gateway</title>
<path fill="none" stroke="#4a90e2" d="M110.91,-54.12C135.9,-73.82 169.75,-100.51 195.8,-121.04"/>
<polygon fill="#4a90e2" stroke="#4a90e2" points="193.94,-124.03 203.96,-127.47 198.28,-118.53 193.94,-124.03"/>
</g>
<!-- Trip Management Service -->
<g id="node3" class="node">
<title>Trip Management Service</title>
<path fill="#dc2626" stroke="black" stroke-width="1.2" d="M476.16,-181C476.16,-181 360.16,-181 360.16,-181 354.16,-181 348.16,-175 348.16,-169 348.16,-169 348.16,-135 348.16,-135 348.16,-129 354.16,-123 360.16,-123 360.16,-123 476.16,-123 476.16,-123 482.16,-123 488.16,-129 488.16,-135 488.16,-135 488.16,-169 488.16,-169 488.16,-175 482.16,-181 476.16,-181"/>
<text text-anchor="middle" x="418.16" y="-149.2" font-family="Arial" font-size="11.00" fill="white">Trip Management Service</text>
</g>
<!-- API Gateway&#45;&gt;Trip Management Service -->
<g id="edge_1" class="edge">
<title>API Gateway&#45;&gt;Trip Management Service</title>
<path fill="none" stroke="#50c878" d="M284.39,-152C300.84,-152 319.75,-152 338.06,-152"/>
<polygon fill="#50c878" stroke="#50c878" points="338.14,-155.5 348.14,-152 338.14,-148.5 338.14,-155.5"/>
<text text-anchor="middle" x="316.16" y="-155.8" font-family="Arial" font-size="14.00" fill="#1e293b">sync</text>
</g>
<!-- Driver Management Service -->
<g id="node4" class="node">
<title>Driver Management Service</title>
<path fill="#dc2626" stroke="black" stroke-width="1.2" d="M946.16,-181C946.16,-181 819.16,-181 819.16,-181 813.16,-181 807.16,-175 807.16,-169 807.16,-169 807.16,-135 807.16,-135 807.16,-129 813.16,-123 819.16,-123 819.16,-123 946.16,-123 946.16,-123 952.16,-123 958.16,-129 958.16,-135 958.16,-135 958.16,-169 958.16,-169 958.16,-175 952.16,-181 946.16,-181"/>
<text text-anchor="middle" x="882.66" y="-149.2" font-family="Arial" font-size="11.00" fill="white">Driver Management Service</text>
</g>
<!-- API Gateway&#45;&gt;Driver Management Service -->
<g id="edge_2" class="edge">
<title>API Gateway&#45;&gt;Driver Management Service</title>
<path fill="none" stroke="#50c878" d="M275.08,-166.05C296.4,-173.66 323.58,-182.94 348.16,-190 417.48,-209.92 434.6,-218.02 506.16,-227 618.63,-241.11 647.81,-230.89 761.16,-232 773.6,-232.12 777.5,-236.34 789.16,-232 812.8,-223.2 834.42,-205.33 850.8,-188.72"/>
<polygon fill="#50c878" stroke="#50c878" points="853.59,-190.86 857.95,-181.21 848.52,-186.04 853.59,-190.86"/>
<text text-anchor="middle" x="520.16" y="-233.8" font-family="Arial" font-size="14.00" fill="#1e293b">sync</text>
</g>
<!-- Dispatch Service -->
<g id="node5" class="node">
<title>Dispatch Service</title>
<path fill="#dc2626" stroke="black" stroke-width="1.2" d="M684.66,-101C684.66,-101 610.66,-101 610.66,-101 604.66,-101 598.66,-95 598.66,-89 598.66,-89 598.66,-55 598.66,-55 598.66,-49 604.66,-43 610.66,-43 610.66,-43 684.66,-43 684.66,-43 690.66,-43 696.66,-49 696.66,-55 696.66,-55 696.66,-89 696.66,-89 696.66,-95 690.66,-101 684.66,-101"/>
<text text-anchor="middle" x="647.66" y="-69.2" font-family="Arial" font-size="11.00" fill="white">Dispatch Service</text>
</g>
<!-- Trip Management Service&#45;&gt;Dispatch Service -->
<g id="edge_4" class="edge">
<title>Trip Management Service&#45;&gt;Dispatch Service</title>
<path fill="none" stroke="#4a90e2" d="M488.34,-127.67C520.43,-116.39 558.13,-103.13 588.7,-92.38"/>
<polygon fill="#4a90e2" stroke="#4a90e2" points="590.08,-95.61 598.35,-88.99 587.76,-89 590.08,-95.61"/>
</g>
<!-- Databases -->
<g id="node7" class="node">
<title>Databases</title>
<path fill="#b91c1c" stroke="black" stroke-width="1.2" d="M1128.16,-222.32C1128.16,-226.28 1107.09,-229.5 1081.16,-229.5 1055.23,-229.5 1034.16,-226.28 1034.16,-222.32 1034.16,-222.32 1034.16,-157.68 1034.16,-157.68 1034.16,-153.72 1055.23,-150.5 1081.16,-150.5 1107.09,-150.5 1128.16,-153.72 1128.16,-157.68 1128.16,-157.68 1128.16,-222.32 1128.16,-222.32"/>
<path fill="none" stroke="black" stroke-width="1.2" d="M1128.16,-222.32C1128.16,-218.36 1107.09,-215.14 1081.16,-215.14 1055.23,-215.14 1034.16,-218.36 1034.16,-222.32"/>
<text text-anchor="middle" x="1081.16" y="-187.2" font-family="Arial" font-size="11.00" fill="white">Databases</text>
</g>
<!-- Trip Management Service&#45;&gt;Databases -->
<g id="edge_8" class="edge">
<title>Trip Management Service&#45;&gt;Databases</title>
<path fill="none" stroke="#ff6b6b" d="M488.26,-178.22C508.55,-184.71 530.98,-190.74 552.16,-194 722.18,-220.21 926.66,-205.84 1023.72,-196.31"/>
<polygon fill="#ff6b6b" stroke="#ff6b6b" points="1024.29,-199.77 1033.89,-195.28 1023.59,-192.8 1024.29,-199.77"/>
<text text-anchor="middle" x="775.16" y="-211.8" font-family="Arial" font-size="14.00" fill="#1e293b">R/W</text>
</g>
<!-- External Services (Maps, Payments) -->
<g id="node8" class="node">
<title>External Services (Maps, Payments)</title>
<polygon fill="lightgrey" stroke="black" stroke-dasharray="5,2" points="743.16,-184.5 552.16,-184.5 552.16,-119.5 743.16,-119.5 743.16,-184.5"/>
<text text-anchor="middle" x="647.66" y="-149.2" font-family="Arial" font-size="11.00" fill="white">External Services (Maps, Payments)</text>
</g>
<!-- Trip Management Service&#45;&gt;External Services (Maps, Payments) -->
<g id="edge_10" class="edge">
<title>Trip Management Service&#45;&gt;External Services (Maps, Payments)</title>
<path fill="none" stroke="#50c878" d="M488.34,-152C505.22,-152 523.65,-152 541.78,-152"/>
<polygon fill="#50c878" stroke="#50c878" points="541.81,-155.5 551.81,-152 541.81,-148.5 541.81,-155.5"/>
<text text-anchor="middle" x="520.16" y="-155.8" font-family="Arial" font-size="14.00" fill="#1e293b">sync</text>
</g>
<!-- Real&#45;time Messaging -->
<g id="node6" class="node">
<title>Real&#45;time Messaging</title>
<polygon fill="lightgrey" stroke="black" points="1140.16,-90 1022.16,-90 1022.16,-54 1140.16,-54 1140.16,-90"/>
<text text-anchor="middle" x="1081.16" y="-69.2" font-family="Arial" font-size="11.00" fill="white">Real&#45;time Messaging</text>
</g>
<!-- Driver Management Service&#45;&gt;Real&#45;time Messaging -->
<g id="edge_3" class="edge">
<title>Driver Management Service&#45;&gt;Real&#45;time Messaging</title>
<path fill="none" stroke="#9c27b0" stroke-dasharray="1,5" d="M955.16,-122.89C979.41,-113.02 1006.02,-102.19 1028.43,-93.06"/>
<ellipse fill="none" stroke="#9c27b0" cx="1032.15" cy="-91.55" rx="4" ry="4"/>
</g>
<!-- Driver Management Service&#45;&gt;Databases -->
<g id="edge_9" class="edge">
<title>Driver Management Service&#45;&gt;Databases</title>
<path fill="none" stroke="#ff6b6b" d="M958.23,-166.42C980.06,-170.64 1003.54,-175.18 1024.02,-179.14"/>
<polygon fill="#ff6b6b" stroke="#ff6b6b" points="1023.63,-182.63 1034.11,-181.1 1024.96,-175.76 1023.63,-182.63"/>
<text text-anchor="middle" x="990.16" y="-177.8" font-family="Arial" font-size="14.00" fill="#1e293b">R/W</text>
</g>
<!-- Dispatch Service&#45;&gt;Driver Management Service -->
<g id="edge_5" class="edge">
<title>Dispatch Service&#45;&gt;Driver Management Service</title>
<path fill="none" stroke="#ff6b6b" d="M696.94,-88.58C725.81,-98.49 763.32,-111.37 796.99,-122.93"/>
<polygon fill="#ff6b6b" stroke="#ff6b6b" points="796.24,-126.37 806.83,-126.31 798.51,-119.75 796.24,-126.37"/>
<text text-anchor="middle" x="775.16" y="-123.8" font-family="Arial" font-size="14.00" fill="#1e293b">R/W</text>
</g>
<!-- Dispatch Service&#45;&gt;Real&#45;time Messaging -->
<g id="edge_6" class="edge">
<title>Dispatch Service&#45;&gt;Real&#45;time Messaging</title>
<path fill="none" stroke="#9c27b0" stroke-dasharray="1,5" d="M696.9,-72C774.32,-72 926.44,-72 1013.96,-72"/>
<ellipse fill="none" stroke="#9c27b0" cx="1017.96" cy="-72" rx="4" ry="4"/>
</g>
<!-- Real&#45;time Messaging&#45;&gt;Client Apps (Rider &amp; Driver) -->
<g id="edge_7" class="edge">
<title>Real&#45;time Messaging&#45;&gt;Client Apps (Rider &amp; Driver)</title>
<path fill="none" stroke="#9c27b0" stroke-dasharray="1,5" d="M1041.96,-53.96C1003.04,-37.27 940.49,-15 883.66,-15 235.08,-15 235.08,-15 235.08,-15 210.4,-15 183.62,-16.46 159.21,-18.37"/>
<ellipse fill="none" stroke="#9c27b0" cx="155.02" cy="-18.71" rx="4" ry="4"/>
</g>
</g>

    <style>
        @keyframes flowRight {
            0% { stroke-dashoffset: 20; }
            100% { stroke-dashoffset: 0; }
        }
        
        @keyframes flowLeft {
            0% { stroke-dashoffset: -20; }
            100% { stroke-dashoffset: 0; }
        }
        
        /* Default flow direction (left to right, arrow ->)
           Positive stroke-dashoffset moves pattern LEFT, so negative offset = RIGHT flow */
        svg g[id*="edge"] path {
            animation: flowRight 1.5s linear infinite;
            stroke-dasharray: 8,4;
            stroke-width: 2.5;
        }
        
        /* Cluster styling */
        svg g[id*="cluster"] polygon {
            fill: #f9f9f9 !important;
            stroke: #d0d0d0 !important;
            stroke-width: 1.5 !important;
        }
        
        svg g[id*="cluster"] text {
            fill: #555 !important;
            font-weight: 600 !important;
        }
        
        /* Pulse effect on components */
        svg g[id*="node"] ellipse,
        svg g[id*="node"] polygon,
        svg g[id*="node"] path {
            transition: filter 0.3s ease;
        }
        
        svg g[id*="node"]:hover ellipse,
        svg g[id*="node"]:hover polygon,
        svg g[id*="node"]:hover path {
            filter: drop-shadow(0 0 10px rgba(60,60,60,0.5));
        }
        
        /* Relationship labels stay readable */
        svg g[id*="edge"] text {
            background: white;
            font-weight: bold;
            fill: #333 !important;
        }
    </style>
    </svg>
